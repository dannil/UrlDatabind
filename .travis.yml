language: java
jdk:
- oraclejdk8
os:
- linux
branches:
  only:
  - master
  - dev
  - coverity_scan
  
sudo: required

after_success:
  - mvn jacoco:report
  - curl http://www.jpm4j.org/install/script > jpmInstall.sh
  - sudo sh jpmInstall.sh
  - sudo jpm install com.codacy:codacy-coverage-reporter:assembly
  - codacy-coverage-reporter -l Java -r target/site/jacoco/jacoco.xml --projectToken $CODACY_PROJECT_TOKEN
  
env:
  global:
    secure: "Am632BzY69bBX0M0m2o7RzfAJCiEeOVMAf+xA/fxj3cyN3CnJEvWHU8z/c1hpqyYIVgKLP20g6NKzQJspCYesADSngziQZyQ79+PT64mZzR+FGZUh4q1PpAsSyJtl7+NHH+aLyn6cj+2rB9HnqMhC
			 Qy0GS6+3rIjz0dF+TcApTlCnrv/rDMt4inguoGcSix0ZimgKjnLP4TEnUi+xlYKXEjNjHab69PqfGdIN1k9g1mdtrH8r96F24mwxsQfAe+owz7iGfOV2JCB2QhgVYfWgzIFv9hbdWavpZbGUZ31R4orY/xHIF9hI
			 UemKUCic5ZQVpK69EpcR5apK1han6bGGega86qAw+k/PfStJrWHmIINsBlTYX92ddFCxuiKtkFkMEm+37Y/6D80SNxn/87dkUWupNEQ3S8s6xzW7O6LROqxbjvTNeE7zG742fONU1qGDVQLbkSY3IIYjLVylQtT5
			 i8RdrdXRpw9hvB5nEtDs8oCcEdj/jMCpbfMJyJnnKfSq2c3w0XnDyKie3fTleRlalbRq7ail+xXvlkwvxW8rPrgQzy5dBzzQHQ+BlzhXjNsp63OKbIeqTOe+hWYE5dtas8WPdvtz88I0Av6vQnx17vlFIEcbfNQJ
			 uPviqvilImacIYDcfgBNGyz3fklToxLlBBqp3jKil4F0y82gs4Dyw0="